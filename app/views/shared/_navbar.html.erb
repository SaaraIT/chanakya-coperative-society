<nav class="blue darken-2" style="position: fixed; top: 0; z-index: 1000; width: 100%;">
  <div class="nav-wrapper" style="padding: 0 20px;">
    <a href="#" data-target="mobile-sidebar" class="sidenav-trigger show-on-med-and-down" style="display: block; float: left; margin-right: 10px;">
      <i class="material-icons">menu</i>
    </a>
    <a href="<%= members_path %>" class="brand-logo brand-logo-text" style="display: flex; align-items: center;">
      <%= image_tag "logo.png", class: "brand-logo-img", style: "width: 35px; margin-right: 15px; margin-top: 5px;" %>
      <span class="brand-text">Shri Guru Chanakya Souharda Sahakari Sangha Ltd - <%= Current.branch.name %></span>
      <span class="brand-text-short">SGCS - <%= Current.branch.name %></span>
    </a>
    <ul class="right hide-on-med-and-down">
      <li>
        <%= link_to edit_cooperative_branch_path(Current.branch), class: "waves-effect" do %>
          <i class="material-icons left">business</i>Branch Details
        <% end %>
      </li>
      <li>
        <%= link_to destroy_user_session_path, data: { turbo_method: :delete }, class: "waves-effect" do %>
          <i class="material-icons left">exit_to_app</i>Sign out
        <% end %>
      </li>
    </ul>
  </div>
</nav>

<style>
  /* Navbar mobile styles */
  .brand-text-short {
    display: none;
  }

  @media screen and (max-width: 768px) {
    .nav-wrapper {
      padding: 0 10px !important;
    }

    .sidenav-trigger {
      margin-left: 0 !important;
      padding: 0 10px !important;
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      z-index: 10;
    }

    .brand-logo {
      left: 50px !important;
      transform: none !important;
      position: relative !important;
      font-size: 14px !important;
    }

    .brand-logo-img {
      width: 30px !important;
      margin-right: 8px !important;
    }

    .brand-text {
      display: none !important;
    }

    .brand-text-short {
      display: inline !important;
      font-size: 12px !important;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: calc(100vw - 100px);
    }
  }

  @media screen and (min-width: 769px) and (max-width: 1024px) {
    .brand-logo {
      font-size: 14px !important;
    }

    .brand-text {
      font-size: 14px !important;
    }
  }

  /* Fixed sidebar on desktop, hidden on mobile */
  @media screen and (max-width: 768px) {
    #sidebarMenu {
      transform: translateX(-105%);
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.sidenav');
    var instances = M.Sidenav.init(elems, {
      edge: 'left',
      draggable: true
    });
  });

  document.addEventListener('turbo:load', function() {
    var elems = document.querySelectorAll('.sidenav');
    var instances = M.Sidenav.init(elems, {
      edge: 'left',
      draggable: true
    });
  });
</script>